{"version":3,"sources":["webpack:///./src/util/time.js","webpack:///src/components/Detail/Detail.vue","webpack:///./src/components/Detail/Detail.vue?9ed8","webpack:///./src/components/Detail/Detail.vue"],"names":["__webpack_exports__","fmt","o","M+","this","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","length","Date","prototype","Format","time","Detail","name","data","follow","commentBox","footBox","collection","zan","cai","ratingVal","article","ratings","id","userName","userHeadImg","content","isLogin","methods","commentFun","commentFuns","stopFun","coll","_this","action","$ajax","post","aid","_id","uid","$store","state","userMsg","then","response","catch","$message","error","message","duration","zanFun","tag","caiFun","ratingZan","index","ratingCai","publish","temp","worksId","userId","headimgSrc","doc","unshift","followFun","authorId","console","log","created","_this2","$route","query","arts","articles","filter","item","comment","err","components","Heads","Detail_Detail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","src","authorHeadImg","alt","author","type","size","on","click","directives","rawName","value","expression","worksSrc","aria-hidden","xlink:href","href","likeUserId","$event","stopPropagation","domProps","input","target","composing","_l","rating","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/4.1c7818929983193c99f6.js","sourcesContent":["let timeFunc = function(fmt) {\n  let o = {\n    \"M+\" : this.getMonth() + 1,\n    \"d+\" : this.getDate(),\n    \"h+\" : this.getHours(),\n    \"m+\" : this.getMinutes(),\n    \"s+\" : this.getSeconds(),\n    \"q+\" : Math.floor((this.getMonth() + 3) / 3),\n    \"S\" : this.getMilliseconds()\n  };\n  if (/(y+)/.test(fmt))\n    fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  for (let k in o)\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n  return fmt;\n};\n\nexport default timeFunc;\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/time.js","<template>\n    <div class=\"detail\">\n      <div class=\"head-wrap\">\n        <Heads></Heads>\n      </div>\n      <div class=\"title\">\n        <h2>{{ article.title }}</h2>\n      </div>\n      <div class=\"author\">\n        <img class=\"avator\" :src=\"article.authorHeadImg\" alt=\"\">\n        <span class=\"author_name\">{{ article.author }}</span>\n        <el-button type=\"success\" size=\"small\" class=\"follow\" @click=\"followFun\">{{ follow?'已关注':'关注'}}</el-button>\n      </div>\n      <div class=\"time\">发布于：{{ article.time }}</div>\n      <!--内容区域-->\n      <div class=\"content\">\n        <img class=\"content-img\" :src=\"article.worksSrc\" v-show=\"article.worksSrc\">\n        <p>{{ article.content }}</p>\n      </div>\n      <!--底部区域-->\n      <div class=\"footer\" v-show=\"footBox\">\n        <li class=\"item\" @click=\"commentFun\">\n          <svg class=\"icon\" aria-hidden=\"true\">\n            <use xlink:href=\"#icon-pinglun\"></use>\n          </svg>\n          <p>评论{{ ratings.length }}</p>\n        </li>\n        <li class=\"item\" @click=\"coll\">\n          <svg class=\"icon\" aria-hidden=\"true\">\n            <use :href=\"collection?'#icon-xin2':'#icon-zan'\"></use>\n          </svg>\n          <p>收藏{{ article.likeUserId.length }}</p>\n        </li>\n        <li class=\"item\" @click=\"zanFun\">\n          <svg class=\"icon\" aria-hidden=\"true\">\n            <use :href=\"zan?'#icon-zan11':'#icon-icon_good'\"></use>\n          </svg>\n          <p>赞{{ article.zan }}</p>\n        </li>\n        <li class=\"item\" @click=\"caiFun\">\n          <svg class=\"icon\" aria-hidden=\"true\">\n            <use :href=\"cai?'#icon-cai2':'#icon-cai'\"></use>\n          </svg>\n          <p>踩{{ article.cai }}</p>\n        </li>\n      </div>\n      <!--弹窗-->\n      <div class=\"comment-box\" v-show=\"commentBox\" @click=\"commentFuns\">\n        <div class=\"box\" @click.stop=\"stopFun\">\n          <textarea type=\"text\" class=\"comment-txt\" v-model=\"ratingVal\"></textarea>\n          <button class=\"publish\" @click=\"publish\">发表评论</button>\n        </div>\n      </div>\n      <!--评论区-->\n      <div class=\"comment\">\n        <div class=\"comment-head\">\n          <span>评论({{ ratings.length}})</span>\n        </div>\n        <template>\n          <li class=\"comment-item\" v-for=\"(rating,index) in ratings\">\n            <div class=\"comment-item-head\">\n              <img :src=\"rating.userHeadImg\" alt=\"\" class=\"user-avatar\">\n              <div class=\"user-name\">\n                <span>{{ rating.userName }}</span>&nbsp;\n                <span class=\"time\">{{ rating.time}}</span>\n              </div>\n              <div class=\"item-right\">\n                <svg class=\"icon\" aria-hidden=\"true\" @click=\"ratingZan(index)\">\n                  <use xlink:href=\"#icon-icon_good\"></use>\n                </svg>{{ rating.zan}}\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <svg class=\"icon\" aria-hidden=\"true\" @click=\"ratingCai(index)\">\n                  <use xlink:href=\"#icon-cai\"></use>\n                </svg>{{ rating.cai}}\n              </div>\n            </div>\n            <div class=\"comment-item-body\">\n              <p>{{ rating.content}}</p>\n            </div>\n          </li>\n        </template>\n        <div class=\"comment-footer\">\n          --end--\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n  import Heads from '@/components/Heads'\n  import timeFunc from '@/util/time'\n  Date.prototype.Format = timeFunc;\n  export default {\n    name: \"Detail\",\n    data(){\n      return{\n        // 关注\n        follow: false,\n        // 评论弹窗\n        commentBox: false,\n        footBox: true,\n        // 底部选项\n        collection: false,\n        zan: false,\n        cai: false,\n        // 评论内容\n        ratingVal: '',\n        article: {\n          // title: '终于等到你：简书代码块高亮',\n          // authorName: 'taizi',\n          // userHeadImg: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=941310360,2054712345&fm=27&gp=0.jpg',\n          // time: '2018-05-28 16:50',\n          // imgSrc: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1530377300123&di=ddfe6fb3231ebd1771e87c5c93a7179b&imgtype=0&src=http%3A%2F%2Fg.hiphotos.baidu.com%2Fimage%2Fpic%2Fitem%2Fb7003af33a87e95053e42ae21c385343faf2b449.jpg',\n          // content: '就在上周，我们的产品小哥哥告诉大婶，咋们偷偷上线了一个新功能:那就是技术类作者期待了很久的代码块高亮。',\n          // comment: 5,\n          // collection: 2,\n          // zan: 14,\n          // cai: 6\n        },\n        ratings:[\n          {\n            id: 1,\n            userName: 'taizi',\n            userHeadImg: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=941310360,2054712345&fm=27&gp=0.jpg',\n            time: '06.29 09:22',\n            content: '作者是有怎样的才华，才能把小事表现的淋漓尽致的。',\n            zan: 4,\n            cai: 5\n          },\n          {\n            id: 1,\n            userName: 'taizi',\n            userHeadImg: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=941310360,2054712345&fm=27&gp=0.jpg',\n            time: '06.29 09:22',\n            content: '作者是有怎样的才华，才能把小事表现的淋漓尽致的。',\n            zan: 4,\n            cai: 5\n          },\n          {\n            id: 1,\n            userName: 'taizi',\n            userHeadImg: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=941310360,2054712345&fm=27&gp=0.jpg',\n            time: '06.29 09:22',\n            content: '作者是有怎样的才华，才能把小事表现的淋漓尽致的。',\n            zan: 4,\n            cai: 5\n          }\n        ],\n        // 是否登录\n        isLogin: false\n      }\n    },\n    methods: {\n      // 开启弹窗\n      commentFun(){\n        this.commentBox = true;\n        this.footBox = false;\n      },\n      // 关闭弹窗\n      commentFuns(){\n        this.commentBox = false;\n        this.footBox = true;\n      },\n      // 阻止事件冒泡,防止点击输入框消失弹窗\n      stopFun(){\n        return false;\n      },\n      // 收藏方法\n      coll(){\n        if(this.isLogin){\n          this.collection = !this.collection;\n          let action = this.collection;\n          this.$ajax.post('/article/soucan',{'aid': this.article._id,'uid': this.$store.state.userMsg._id,'action': action})\n            .then((response)=>{})\n            .catch(()=>{\n              this.$message.error({message: '请稍后重试！',duration: 1000});\n            })\n        }else{\n          this.$message.error({message: '请先登入！',duration: 1000});\n        }\n\n      },\n      // 赞方法\n      zanFun(){\n        if(this.isLogin){\n          this.zan = !this.zan;\n          this.zan?this.article.zan++:this.article.zan--;\n          let action = this.zan?1:-1;\n          let tag = 'zan';\n          // 服务端修改\n          this.$ajax.post('/article/zan',{'tag': tag,'aid': this.article._id,'action': action})\n            .then((response)=>{})\n        }else{\n          this.$message.error({message: '请先登入！',duration: 1000});\n        }\n      },\n      // 踩方法\n      caiFun(){\n        if(this.isLogin){\n          this.cai = !this.cai;\n          this.cai?this.article.cai++:this.article.cai--;\n          let action = this.cai?1:-1;\n          let tag = 'cai';\n          // 服务端修改\n          this.$ajax.post('/article/zan',{'tag': tag,'aid': this.article._id,'action': action})\n            .then((response)=>{})\n        }else{\n          this.$message.error({message: '请先登入！',duration: 1000});\n        }\n      },\n      // 评论点赞方法\n      ratingZan(index){\n        this.ratings[index].zan++;\n        this.$ajax.post(\"/article/comment\",{'id': this.ratings[index]._id,'tag': 'zan'})\n          .then((response)=>{})\n      },\n      // 评论踩方法\n      ratingCai(index){\n        this.ratings[index].cai++;\n        this.$ajax.post(\"/article/comment\",{'id': this.ratings[index]._id,'tag': 'cai'})\n          .then((response)=>{})\n      },\n      // 发布评论方法\n      publish(){\n        if(!this.ratingVal){\n          this.$message.error({message: '请输入内容！',duration: 1000});\n\n        }else if(!this.isLogin){\n          this.$message.error({message: '请先登入！',duration: 1000});\n        }else{\n          let temp = {\n            worksId: this.article._id,\n            userId: this.$store.state.userMsg._id,\n            userName: this.$store.state.userMsg.userName,\n            userHeadImg: this.$store.state.userMsg.headimgSrc,\n            time:new Date().Format(\"MM.dd hh:mm\"),\n            content:this.ratingVal,\n            zan:0,\n            cai:0\n          };\n          // 提交服务端\n          this.$ajax.post(\"/article/comment\",{'tag': 'comment','content': temp})\n            .then((doc)=>{});\n          // 客户端的提交\n          this.ratings.unshift(temp);\n          this.ratingVal = '';\n          this.commentFuns();\n        }\n      },\n      // 关注方法\n      followFun(){\n        if(this.isLogin){\n          this.follow = !this.follow;\n          let action = this.follow;\n          let uid = this.$store.state.userMsg._id;\n          let authorId = this.article.userId;\n          this.$ajax.post('/admin/follow',{action,uid,authorId})\n            .then((doc)=>{\n              console.log(doc.data);\n            })\n        }else{\n          this.$message.error({message: '请先登入！',duration: 1000});\n        }\n      }\n    },\n    created(){\n      let aid = this.$route.query.id;\n      // 获取文章\n      let arts = this.$store.state.articles.filter((item)=>{\n        return item._id === aid;\n      });\n      this.article = arts[0];\n      // 获取评论\n      this.$ajax.post('/article/detail',{id: aid})\n        .then((response)=>{\n          this.ratings = response.data.comment;\n        })\n        .catch((err)=>{\n          this.$message.error({message: '网络错误！',duration: 1000});\n        });\n      // 检验是否登入\n      this.isLogin = this.$store.state.isLogin;\n    },\n    components:{\n      Heads\n    }\n\n  }\n</script>\n\n<style scoped lang=\"stylus\">\n\n  .detail{\n    width: 95%\n    margin: 0 auto\n    .head-wrap{\n      width: 100%\n      height: 40px\n    }\n    .title{\n      width: 100%\n    }\n    .author{\n      width: 100%\n      height: 45px\n      margin-top: 10px\n      .avator{\n        width: 30px\n        height: 30px\n        border-radius: 50%\n      }\n      .author_name{\n        display: inline-block\n        vertical-align: top\n        line-height: 40px\n        font-size: 20px\n      }\n      .follow{\n        float: right\n      }\n    }\n    .time{\n      margin-top: 10px\n    }\n    .content{\n      margin-top: 20px\n      .content-img{\n        width 100%\n      }\n    }\n    .footer{\n      position: fixed\n      left: 0\n      bottom: 0\n      display: flex\n      z-index: 998\n      width: 100%\n      height: 40px\n      background-color: white\n      border-top: 1px solid #f2f2f2\n      .item{\n        flex: 1\n        text-align: center\n        padding-top: 2px\n        .icon{\n          font-size: 18px\n          color: red\n        }\n      }\n\n    }\n\n    .comment-box{\n      position: absolute\n      top: 0\n      left: 0\n      width: 100%\n      height: 1500px\n      background: rgba(0,0,0,0.5)\n      .box{\n          position: fixed\n          bottom: 0\n          left: 0\n          width: 100%\n          height: 150px\n          background: rgba(255,255,255,1)\n          z-index: 1000\n          .comment-txt{\n            display block\n            width: 90%\n            height: 80px\n            margin: 10px auto\n          }\n          .publish{\n            position: absolute\n            right: 17px\n            bottom: 16px\n            width: 80px\n            height: 28px\n            border: 1px solid green\n            border-radius: 4px\n            color: green\n          }\n        }\n    }\n    .comment{\n      margin-top: 50px\n      border-top: 10px solid #f2f2f2\n      margin-bottom: 50px\n      .comment-head{\n        line-height: 40px\n        text-indent: 4px\n      }\n      .comment-item{\n        width: 100%\n        border-top: 1px solid #f2f2f2\n        padding: 10px 0\n        border-bottom: 2px solid #eee\n        .comment-item-head{\n          width: 100%\n          height: 40px\n          position: relative\n          .user-avatar{\n            width: 30px\n            height: 30px\n            border-radius: 50%\n          }\n          .user-name{\n            display: inline-block\n            line-height: 40px\n            vertical-align: top\n            margin-left: 5px\n          }\n          .item-right{\n            position: absolute\n            right: 10px\n            top: 0\n            .icon{\n              font-size: 20px\n            }\n          }\n        }\n      }\n      .comment-footer{\n        width: 100%\n        line-height: 100px\n        text-align: center\n      }\n    }\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Detail/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"head-wrap\"},[_c('Heads')],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(_vm._s(_vm.article.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"author\"},[_c('img',{staticClass:\"avator\",attrs:{\"src\":_vm.article.authorHeadImg,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"author_name\"},[_vm._v(_vm._s(_vm.article.author))]),_vm._v(\" \"),_c('el-button',{staticClass:\"follow\",attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.followFun}},[_vm._v(_vm._s(_vm.follow?'已关注':'关注'))])],1),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(\"发布于：\"+_vm._s(_vm.article.time))]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.article.worksSrc),expression:\"article.worksSrc\"}],staticClass:\"content-img\",attrs:{\"src\":_vm.article.worksSrc}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.article.content))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.footBox),expression:\"footBox\"}],staticClass:\"footer\"},[_c('li',{staticClass:\"item\",on:{\"click\":_vm.commentFun}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-pinglun\"}})]),_vm._v(\" \"),_c('p',[_vm._v(\"评论\"+_vm._s(_vm.ratings.length))])]),_vm._v(\" \"),_c('li',{staticClass:\"item\",on:{\"click\":_vm.coll}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"href\":_vm.collection?'#icon-xin2':'#icon-zan'}})]),_vm._v(\" \"),_c('p',[_vm._v(\"收藏\"+_vm._s(_vm.article.likeUserId.length))])]),_vm._v(\" \"),_c('li',{staticClass:\"item\",on:{\"click\":_vm.zanFun}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"href\":_vm.zan?'#icon-zan11':'#icon-icon_good'}})]),_vm._v(\" \"),_c('p',[_vm._v(\"赞\"+_vm._s(_vm.article.zan))])]),_vm._v(\" \"),_c('li',{staticClass:\"item\",on:{\"click\":_vm.caiFun}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"href\":_vm.cai?'#icon-cai2':'#icon-cai'}})]),_vm._v(\" \"),_c('p',[_vm._v(\"踩\"+_vm._s(_vm.article.cai))])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentBox),expression:\"commentBox\"}],staticClass:\"comment-box\",on:{\"click\":_vm.commentFuns}},[_c('div',{staticClass:\"box\",on:{\"click\":function($event){$event.stopPropagation();return _vm.stopFun($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ratingVal),expression:\"ratingVal\"}],staticClass:\"comment-txt\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ratingVal)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ratingVal=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"publish\",on:{\"click\":_vm.publish}},[_vm._v(\"发表评论\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"comment\"},[_c('div',{staticClass:\"comment-head\"},[_c('span',[_vm._v(\"评论(\"+_vm._s(_vm.ratings.length)+\")\")])]),_vm._v(\" \"),_vm._l((_vm.ratings),function(rating,index){return _c('li',{staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-item-head\"},[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":rating.userHeadImg,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"user-name\"},[_c('span',[_vm._v(_vm._s(rating.userName))]),_vm._v(\" \\n            \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(rating.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"item-right\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.ratingZan(index)}}},[_c('use',{attrs:{\"xlink:href\":\"#icon-icon_good\"}})]),_vm._v(_vm._s(rating.zan)+\"\\n                 \\n            \"),_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.ratingCai(index)}}},[_c('use',{attrs:{\"xlink:href\":\"#icon-cai\"}})]),_vm._v(_vm._s(rating.cai)+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-item-body\"},[_c('p',[_vm._v(_vm._s(rating.content))])])])}),_vm._v(\" \"),_c('div',{staticClass:\"comment-footer\"},[_vm._v(\"\\n      --end--\\n    \")])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1669c726\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Detail/Detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1669c726\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1669c726\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1669c726\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Detail/Detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}